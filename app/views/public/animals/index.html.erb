<div class="container pt-5">
  <div class="row">
    <div class="col-12">
      <%= render "admin/animal_types/search_animal_type", animal_types: AnimalType.all %>
    </div>
  </div>

  <div class="row">
    <div class="col-12 text-center">
      <% if params[:name].nil? %>
        <h4 class="mb-4">全ての動物</h4>
      <% else %>
        <h4 class="mb-4"><%= params[:name] %>一覧</h4>
      <% end %>
    </div>
  </div>

  <div class="row">
    <% sorted_animals = @animals.sort_by { |animal| [animal.animal_type.id, animal.id] } %>
    <% sorted_animals.each do |animal| %>
      <div class="col-3 mb-4">
        <div class="card h-100">
          <%= link_to animal_path(animal) do %>
            <%= image_tag animal.get_image_fill(240, 160), class: "card-img-top", alt: animal.name %>
          <% end %>
          <div class="card-body">
            <h5 class="card-title text-center"><%= animal.name %></h5>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>